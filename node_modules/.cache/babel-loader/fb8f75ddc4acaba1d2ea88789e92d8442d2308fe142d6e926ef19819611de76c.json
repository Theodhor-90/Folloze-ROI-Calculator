{"ast":null,"code":"import { calculateCosts } from './costsCalc';\nimport { calculateProductivity } from './productivityCalc';\nimport { calculateRevenue } from './revenueCalc';\n\n// Constrain unrealistic inputs\nexport const constrainLargeNumber = entry => {\n  return entry > 100000000000 ? 100000000000 : entry;\n};\nexport const getValueFromId = (id, questionsList) => {\n  const selectedQuestion = questionsList.find(el => el.id === id);\n  return selectedQuestion.type === 'currency' || selectedQuestion.type === 'plain' ? parseInt(selectedQuestion.value.toString().split(',').join('')) : selectedQuestion.value;\n};\nexport const calculateResults = (selectedGroups, questionsList) => {\n  const finalResults = [];\n  const groupResults = {\n    costs: [],\n    revenue: [],\n    productivity: []\n  };\n  selectedGroups.forEach(group => {\n    if (group.checked) {\n      questionsList.forEach(question => {\n        if (question.group === group.group) {\n          groupResults[group.group].push(question);\n        }\n      });\n    }\n  });\n  if (groupResults.costs.length) {\n    finalResults.push(calculateCosts(questionsList));\n  }\n  if (groupResults.revenue.length) {\n    finalResults.push(calculateRevenue(questionsList));\n  }\n  if (groupResults.productivity.length) {\n    finalResults.push(calculateProductivity(questionsList));\n  }\n  return finalResults;\n};","map":{"version":3,"names":["calculateCosts","calculateProductivity","calculateRevenue","constrainLargeNumber","entry","getValueFromId","id","questionsList","selectedQuestion","find","el","type","parseInt","value","toString","split","join","calculateResults","selectedGroups","finalResults","groupResults","costs","revenue","productivity","forEach","group","checked","question","push","length"],"sources":["/Users/theodhor/Desktop/projects/TMPDEV/Folloze/src/calculations/results.ts"],"sourcesContent":["import { TQuestionGroup } from '../static/questions';\nimport { IResultState, IQuestionState } from '../views/survey/Survey';\nimport { calculateCosts } from './costsCalc';\nimport { calculateProductivity } from './productivityCalc';\nimport { calculateRevenue } from './revenueCalc';\n\n// Constrain unrealistic inputs\nexport const constrainLargeNumber: (entry: number) => number = (entry) => {\n  return entry > 100000000000 ? 100000000000 : entry;\n};\n\nexport const getValueFromId: (\n  id: number,\n  questionsList: IQuestionState[]\n) => number = (id, questionsList) => {\n  const selectedQuestion = questionsList.find(\n    (el) => el.id === id\n  ) as IQuestionState;\n  return selectedQuestion.type === 'currency' ||\n    selectedQuestion.type === 'plain'\n    ? parseInt(selectedQuestion.value.toString().split(',').join(''))\n    : (selectedQuestion.value as number);\n};\n\nexport const calculateResults: (\n  selectedGroups: TQuestionGroup[],\n  questionsList: IQuestionState[]\n) => IResultState[] = (selectedGroups, questionsList) => {\n  const finalResults = [] as IResultState[];\n  const groupResults = {\n    costs: [] as IQuestionState[],\n    revenue: [] as IQuestionState[],\n    productivity: [] as IQuestionState[],\n  };\n  selectedGroups.forEach((group) => {\n    if (group.checked) {\n      questionsList.forEach((question) => {\n        if (question.group === group.group) {\n          groupResults[group.group].push(question);\n        }\n      });\n    }\n  });\n  if (groupResults.costs.length) {\n    finalResults.push(calculateCosts(questionsList));\n  }\n  if (groupResults.revenue.length) {\n    finalResults.push(calculateRevenue(questionsList));\n  }\n  if (groupResults.productivity.length) {\n    finalResults.push(calculateProductivity(questionsList));\n  }\n\n  return finalResults;\n};\n"],"mappings":"AAEA,SAASA,cAAc,QAAQ,aAAa;AAC5C,SAASC,qBAAqB,QAAQ,oBAAoB;AAC1D,SAASC,gBAAgB,QAAQ,eAAe;;AAEhD;AACA,OAAO,MAAMC,oBAA+C,GAAIC,KAAK,IAAK;EACxE,OAAOA,KAAK,GAAG,YAAY,GAAG,YAAY,GAAGA,KAAK;AACpD,CAAC;AAED,OAAO,MAAMC,cAGF,GAAGA,CAACC,EAAE,EAAEC,aAAa,KAAK;EACnC,MAAMC,gBAAgB,GAAGD,aAAa,CAACE,IAAI,CACxCC,EAAE,IAAKA,EAAE,CAACJ,EAAE,KAAKA,EAAE,CACH;EACnB,OAAOE,gBAAgB,CAACG,IAAI,KAAK,UAAU,IACzCH,gBAAgB,CAACG,IAAI,KAAK,OAAO,GAC/BC,QAAQ,CAACJ,gBAAgB,CAACK,KAAK,CAACC,QAAQ,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC,CAAC,GAC9DR,gBAAgB,CAACK,KAAgB;AACxC,CAAC;AAED,OAAO,MAAMI,gBAGM,GAAGA,CAACC,cAAc,EAAEX,aAAa,KAAK;EACvD,MAAMY,YAAY,GAAG,EAAoB;EACzC,MAAMC,YAAY,GAAG;IACnBC,KAAK,EAAE,EAAsB;IAC7BC,OAAO,EAAE,EAAsB;IAC/BC,YAAY,EAAE;EAChB,CAAC;EACDL,cAAc,CAACM,OAAO,CAAEC,KAAK,IAAK;IAChC,IAAIA,KAAK,CAACC,OAAO,EAAE;MACjBnB,aAAa,CAACiB,OAAO,CAAEG,QAAQ,IAAK;QAClC,IAAIA,QAAQ,CAACF,KAAK,KAAKA,KAAK,CAACA,KAAK,EAAE;UAClCL,YAAY,CAACK,KAAK,CAACA,KAAK,CAAC,CAACG,IAAI,CAACD,QAAQ,CAAC;QAC1C;MACF,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,IAAIP,YAAY,CAACC,KAAK,CAACQ,MAAM,EAAE;IAC7BV,YAAY,CAACS,IAAI,CAAC5B,cAAc,CAACO,aAAa,CAAC,CAAC;EAClD;EACA,IAAIa,YAAY,CAACE,OAAO,CAACO,MAAM,EAAE;IAC/BV,YAAY,CAACS,IAAI,CAAC1B,gBAAgB,CAACK,aAAa,CAAC,CAAC;EACpD;EACA,IAAIa,YAAY,CAACG,YAAY,CAACM,MAAM,EAAE;IACpCV,YAAY,CAACS,IAAI,CAAC3B,qBAAqB,CAACM,aAAa,CAAC,CAAC;EACzD;EAEA,OAAOY,YAAY;AACrB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}